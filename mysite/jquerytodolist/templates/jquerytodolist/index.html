{% load static %}

<head>
	<!-- imports jquery library-->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js">


	</script>
	<!-- point the file to use script.js as a source for code -->
	<script type="text/javascript" src={% static "jquerytodolist/script.js" %}>


	</script>
	<!-- links the stylesheet to index.html -->
	<link rel="stylesheet" type="text/css" href="{% static 'jquerytodolist/style.css' %}" />
</head>

<body>
	<h1 id='h1'>Tracking your goals since 2017</h1>

	<h3>Add your task</h3>
	<!-- creates a text input box to collect new tasks -->
	<form name="todosinput">
		<input id="addTaskBox" type="text" name="taskText" />
	</form>
	
	<!-- creates a button to submit tasks -->
	<div id="addTask">Add a task</div>

	<br />
	<hr />
	<h3>Pending tasks:</h3>

	<!-- creates a table of tasks which are not completed -->

	<table class="todos">
		{% for task in waiting_todos %}
		<tr id=task{{task.id}}>
			<td> {{task.task_text}} </td>
			<td>
				<div class=completeTask  name=complete_task_{{task.id}}>&#10004;</div>
			</td>
			<td>
				<div class=editTask
				 name=edit_task_{{task.id}}>&#10000;</div>
			</td>
		</tr> {% endfor %}
	</table>

	<!-- creates a template table of tasks which are not completed -->
	<table class="hidden">
		<tr class="templatePendingTask">
			<td> {{task.task_text}} </td>
			<td>
				<div class=completeTask  name=complete_task_{{task.id}}>&#10004;</div>
			</td>
			<td>
				<div class=editTask  
				name=edit_task_{{task.id}}>&#10000;</div>
			</td>
		</tr> 
	</table>

	<br />
	<hr />
	<h3>Completed tasks:</h3>

	<!-- creates a table of tasks which are completed -->
	<table class="completedtodos">
		{% for task in tasks_done %}
		<tr data-id="{{task.id}}">
			<td>
				<div class="deleteSubmission" name="delete_submission_{{task.id}}">purge</div>
			</td>
			<td>
				<div class="undoCompleteTask"  name="undo_complete_{{task.id}}">undo</div>
			</td>
			<td>
				{{task.task_text}}
			</td>
		</tr>
		{% endfor %}
	</table>

<!-- template for the table of tasks which are completed -->
	<table class="hidden">
		<tr class="templateCompletedTask" data-id="TBA">
			<td>
				<div class="deleteSubmission" name="delete_submission_{{task.id}}">purge</div>
			</td>
			<td>
				<div class="undoCompleteTask" name="undo_complete_{{task.id}}">undo</div>
			</td>
			<td>
				{{task.task_text}}
			</td>
		</tr>
	</table>


</body>
